<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Admin Page</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.1/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.1/js/materialize.min.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="/assets/materialize/css/materialize.min.css"  media="screen,projection"/>
    <link rel="stylesheet" href="assets/css/admin.css">
    <script src="https://unpkg.com/vue"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>
  <body>
    <nav>
      <div class="nav-wrapper grey darken-4">
        <a href="#" class="brand-logo">Logo</a>
        <ul id="nav-mobile" class="right hide-on-med-and-down">
          <li><a href="sass.html">Sass</a></li>
          <li><a href="badges.html">Components</a></li>
          <li><a href="collapsible.html">JavaScript</a></li>
        </ul>
      </div>
    </nav>


    <div id="app">
      <div class="row">
        <form id="adminForm" class="col m4">
          <div class="row">
            <div class="input-field col s12">
              <input v-model="title" id="title" type="text" class="validate">
              <label for="title">Title</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s6">
              <input v-model="author" id="author" type="text" class="validate">
              <label for="author">Author</label>
            </div>
            <div class="input-field col s6">
              <input v-model="category" id="category" type="text" class="validate">
              <label for="category">Category</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <input v-model="isbn" id="isbn" type="text" class="validate">
              <label for="isbn">ISBN</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <input v-model="image" id="image" type="text" class="validate">
              <label for="image">Image</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s6">
              <input v-model="stock" id="stock" type="number" class="validate">
              <label for="stock">Stock</label>
            </div>
            <div class="col s6">
              <a v-on:click="addBook" class="waves-effect waves-light btn" >Submit
                <i class="material-icons right">send</i>
              </a>
            </div>
          </div>
        </form>


        <div id="books" class="col m8" style="overflow-y:scroll; height: 580px; border-bottom: 1px solid #8d6e63">
          <ul class="collection" v-for="(book, index) in book_list">
            <div class="col m-9">
              <li class="collection-item avatar">
                {{ index }}.&nbsp;
                <input type="text" v-model="book.isbn" v-show="!book.isActive">
                <img v-bind:src="book.image" alt="" class="circle">
                <span class="title" v-show="book.isActive">{{ book.title }}</span> <br>
                <input type="text" v-model="book.title" v-show="!book.isActive">
                <span v-show="book.isActive">Author: {{ book.author }}</span> <a> || </a>
                <input type="text" v-model="book.author" v-show="!book.isActive">
                <span v-show="book.isActive">Category: {{ book.category }}</span>
                <input type="text" v-model="book.category" v-show="!book.isActive">
                <p v-show="book.isActive">Stock: {{ book.stock }}</p>
                <input type="text" v-model="book.stock" v-show="!book.isActive">
                <p v-show="book.isActive">Image: {{ book.image }}</p>
                <input type="text" id="image_edit" v-model="book.image" v-show="!book.isActive">
                <!-- <a href="#!" class="secondary-content"><i class="material-icons">edit</i></a> -->
                <!-- <a href="#!" class="secondary-content"><i class="material-icons">delete</i></a> -->
              </li>
            </div>
            <div class="col m-3 ">
              <a v-on:click="updateBook(index, book._id); togglePer(book)" v-show="!book.isActive" class="btn-floating waves-effect waves-light yellow darken-1"><i class="material-icons">send</i></a>
              <a v-on:click="togglePer(book)" class="btn-floating waves-effect waves-light yellow darken-1"><i class="material-icons">edit</i></a>
              <a v-on:click="deleteBook(book.title)" class="btn-floating waves-effect waves-light red"><i class="material-icons">delete</i></a>
            </div>
          </ul>
        </div>
<div id="zz">

</div>

      </div>
    </div>



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="/assets/materialize/js/materialize.min.js"></script>
    <script src="/assets/js/admin.js" charset="utf-8"></script>
    <script type="text/javascript">
      $('#zz').html($('#books').scrollHeight);
      $('.books').scrollTop($('.books')[0].scrollHeight);


      $('.fixed-action-btn').openFAB();
      $('.fixed-action-btn').closeFAB();
      $('.fixed-action-btn.toolbar').openToolbar();
      $('.fixed-action-btn.toolbar').closeToolbar();
    </script>
  </body>
</html>
